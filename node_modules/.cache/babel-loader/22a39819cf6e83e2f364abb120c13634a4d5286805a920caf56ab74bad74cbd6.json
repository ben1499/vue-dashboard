{"ast":null,"code":"import axios from 'axios';\nimport SearchTable from './SearchTable.vue';\nimport CategoryTable from './CategoryTable.vue';\nimport { bus } from '../main';\nexport default {\n  components: {\n    'search-table': SearchTable,\n    'category-table': CategoryTable\n  },\n  data() {\n    return {\n      productsData: [],\n      page: 1,\n      pageSize: 6,\n      loading: true,\n      searchInput: '',\n      isMainSeen: true,\n      categories: [],\n      checkList: [],\n      isSearchTableSeen: false\n    };\n  },\n  props: {},\n  mounted() {\n    this.fetchData(0);\n    this.getCategories();\n  },\n  methods: {\n    fetchData(skipNumber) {\n      axios.get(`https://dummyjson.com/products?limit=6&skip=${skipNumber}`).then(response => {\n        // console.log(response.data.products);\n        this.loading = false;\n        this.productsData = response.data.products;\n        // this.productsData = this.productsData.splice(0, 6);\n      }).catch(err => {\n        console.log(err);\n      });\n    },\n    filterCategory(value, row) {\n      return row.category === value;\n    },\n    setPage(val) {\n      this.page = val;\n      const skipValue = this.page * this.pageSize - this.pageSize;\n      this.loading = true;\n      this.fetchData(skipValue);\n    },\n    sendInputEvent() {\n      // this.$emit('input-change');\n      bus.$emit('input-change', this.searchInput);\n      this.isMainSeen = false;\n      this.isSearchTableSeen = true;\n    },\n    getCategories() {\n      axios.get(`https://dummyjson.com/products/categories`).then(response => {\n        this.categories = response.data.slice(0, 6);\n      });\n    },\n    sendCheckList() {\n      bus.$emit('filter-change', this.checkList);\n    }\n  },\n  computed: {\n    // pagedProductsData() {\n    //     return this.productsData.slice(this.pageSize * this.page - this.pageSize, this.pageSize * this.page)\n    // }\n  }\n};","map":{"version":3,"names":["axios","SearchTable","CategoryTable","bus","components","data","productsData","page","pageSize","loading","searchInput","isMainSeen","categories","checkList","isSearchTableSeen","props","mounted","fetchData","getCategories","methods","skipNumber","get","then","response","products","catch","err","console","log","filterCategory","value","row","category","setPage","val","skipValue","sendInputEvent","$emit","slice","sendCheckList","computed"],"sources":["src/components/ProductsAll.vue"],"sourcesContent":["<template>\n    <div id=\"products\">\n        <div class=\"top-menu\">\n            <p>All products</p>\n            <el-input @input=\"sendInputEvent\" v-model=\"searchInput\"></el-input>\n            <el-dropdown>\n                <el-button type=\"primary\">\n                    Filter<i class=\"el-icon-arrow-down el-icon--right\"></i>\n                </el-button>\n                <el-dropdown-menu slot=\"dropdown\">\n                    <!-- <el-dropdown-item v-for=\"(category, index) in categories\" :key=\"index\">{{ category }}</el-dropdown-item> -->\n                    <el-dropdown-item v-for=\"(category, index) in categories\" :key=\"index\">\n                        <el-checkbox-group v-model=\"checkList\" @change=\"sendCheckList\">\n                            <el-checkbox :label=\"category\"></el-checkbox>\n                        </el-checkbox-group>\n                    </el-dropdown-item>\n                    <el-dropdown-item>Reset</el-dropdown-item>\n                </el-dropdown-menu>\n            </el-dropdown>\n        </div>\n        <template v-if=\"isMainSeen\">\n            <el-table\n            v-loading=\"loading\"\n            :data=\"productsData\"\n            style=\"width: 100%\">\n            <el-table-column\n                prop=\"title\"\n                label=\"Name\"\n                width=\"180\">\n            </el-table-column>\n            <el-table-column label=\"Image\" width=\"160\">\n                <template slot-scope=\"scope\">\n                    <img :src=\"scope.row.images[0]\" alt=\"Image\" width=\"100\" height=\"80\">\n                </template>\n            </el-table-column>\n            <el-table-column\n                prop=\"description\"\n                label=\"Description\">\n            </el-table-column>\n            <el-table-column\n                prop=\"price\"\n                label=\"Price ($)\"\n                width=\"100\">\n            </el-table-column>\n            <el-table-column\n            prop=\"category\"\n            label=\"Category\"\n            width=\"180\"\n            :filters=\"[{ text: 'Smartphones', value: 'smartphones' }, { text: 'Laptops', value: 'laptops' }]\"\n            :filter-method=\"filterCategory\"\n            filter-placement=\"bottom-end\">\n            <template slot-scope=\"scope\">\n                <el-tag\n                :type=\"scope.row.category === 'smartphones' ? 'primary' : 'success'\"\n                disable-transitions>{{scope.row.category}}</el-tag>\n            </template>\n            </el-table-column>\n            </el-table>\n            <div class=\"page-row\">\n                <el-pagination background layout=\"prev, pager, next\" :total=\"30\" @current-change=\"setPage\">\n                </el-pagination>\n                <p class=\"small-text\">Showing {{ page }} of 3</p>\n            </div>\n        </template>\n        <search-table v-if=\"isSearchTableSeen\"></search-table>\n        <category-table></category-table>\n        {{ checkList }}\n    </div>\n  </template>\n  \n<script>\nimport axios from 'axios';\nimport SearchTable from './SearchTable.vue';\nimport CategoryTable from './CategoryTable.vue';\nimport { bus } from '../main'\n\n  export default {\n    components: {\n        'search-table': SearchTable,\n        'category-table': CategoryTable,\n    },\n    data() {\n        return {\n            productsData: [],\n            page: 1,\n            pageSize: 6,\n            loading: true,\n            searchInput: '',\n            isMainSeen: true,\n            categories: [],\n            checkList: [],\n            isSearchTableSeen: false\n        }\n    },\n    props: {\n\n    },\n    mounted() {\n        this.fetchData(0);\n        this.getCategories();\n    },\n    methods: {\n        fetchData(skipNumber) {\n            axios.get(`https://dummyjson.com/products?limit=6&skip=${skipNumber}`).then((response) => {\n                    // console.log(response.data.products);\n                    this.loading = false;\n                    this.productsData = response.data.products;\n                    // this.productsData = this.productsData.splice(0, 6);\n                }).catch((err) => {\n                    console.log(err);\n                })\n        },\n        filterCategory(value, row) {\n            return row.category === value;\n        },\n        setPage(val) {\n            this.page = val\n            const skipValue = this.page * this.pageSize - this.pageSize;\n            this.loading = true;\n            this.fetchData(skipValue);\n        },\n        sendInputEvent() {\n            // this.$emit('input-change');\n            bus.$emit('input-change', this.searchInput);\n            this.isMainSeen = false;\n            this.isSearchTableSeen = true;\n        },\n        getCategories() {\n            axios.get(`https://dummyjson.com/products/categories`).then((response) => {\n                this.categories = response.data.slice(0, 6);\n            })\n        }, \n        sendCheckList() {\n            bus.$emit('filter-change', this.checkList);\n        }\n    },\n    computed: {\n        // pagedProductsData() {\n        //     return this.productsData.slice(this.pageSize * this.page - this.pageSize, this.pageSize * this.page)\n        // }\n    }\n  }\n</script>\n  \n\n<style scoped>\n#products {\n    grid-column: 2 / 3;\n    margin-left: 50px;\n}\n\n.top-menu {\n    display: flex;\n    justify-content: space-around;\n}\n\np {\n    margin-bottom: 10px;\n    margin-left: 5px;\n    color: rgb(79, 88, 88);\n}\n\n.el-pagination {\n    margin-top: 10px;\n}\n\n.page-row {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    padding: 0 30px; \n}\n\n.small-text {\n    font-size: 15px;\n    margin-top: 20px;\n}\n\n.el-input {\n    width: 50%;\n}\n</style>\n  "],"mappings":"AAuEA,OAAAA,KAAA;AACA,OAAAC,WAAA;AACA,OAAAC,aAAA;AACA,SAAAC,GAAA;AAEA;EACAC,UAAA;IACA,gBAAAH,WAAA;IACA,kBAAAC;EACA;EACAG,KAAA;IACA;MACAC,YAAA;MACAC,IAAA;MACAC,QAAA;MACAC,OAAA;MACAC,WAAA;MACAC,UAAA;MACAC,UAAA;MACAC,SAAA;MACAC,iBAAA;IACA;EACA;EACAC,KAAA,GAEA;EACAC,QAAA;IACA,KAAAC,SAAA;IACA,KAAAC,aAAA;EACA;EACAC,OAAA;IACAF,UAAAG,UAAA;MACApB,KAAA,CAAAqB,GAAA,gDAAAD,UAAA,IAAAE,IAAA,CAAAC,QAAA;QACA;QACA,KAAAd,OAAA;QACA,KAAAH,YAAA,GAAAiB,QAAA,CAAAlB,IAAA,CAAAmB,QAAA;QACA;MACA,GAAAC,KAAA,CAAAC,GAAA;QACAC,OAAA,CAAAC,GAAA,CAAAF,GAAA;MACA;IACA;IACAG,eAAAC,KAAA,EAAAC,GAAA;MACA,OAAAA,GAAA,CAAAC,QAAA,KAAAF,KAAA;IACA;IACAG,QAAAC,GAAA;MACA,KAAA3B,IAAA,GAAA2B,GAAA;MACA,MAAAC,SAAA,QAAA5B,IAAA,QAAAC,QAAA,QAAAA,QAAA;MACA,KAAAC,OAAA;MACA,KAAAQ,SAAA,CAAAkB,SAAA;IACA;IACAC,eAAA;MACA;MACAjC,GAAA,CAAAkC,KAAA,sBAAA3B,WAAA;MACA,KAAAC,UAAA;MACA,KAAAG,iBAAA;IACA;IACAI,cAAA;MACAlB,KAAA,CAAAqB,GAAA,8CAAAC,IAAA,CAAAC,QAAA;QACA,KAAAX,UAAA,GAAAW,QAAA,CAAAlB,IAAA,CAAAiC,KAAA;MACA;IACA;IACAC,cAAA;MACApC,GAAA,CAAAkC,KAAA,uBAAAxB,SAAA;IACA;EACA;EACA2B,QAAA;IACA;IACA;IACA;EAAA;AAEA"},"metadata":{},"sourceType":"module","externalDependencies":[]}